{% extends 'base.html' %}

{% block title %}Settings{% endblock %}

{% block nav_item_5 %}active{% endblock %}

{% block body %}   

    <main>
			<div class="btn-toolbar mt-3 col-8 mx-auto">
				<button type="button" class="btn btn-secondary btn-lg col-8 mx-auto" onClick="document.getElementById('income_buttons').style.display='block';"><i class="icon-money ml-3"></i>Income categories</button>
			</div>
			<div class="btn-toolbar mt-1 col-8 mx-auto" id="income_buttons" style="display: none;">
				<button  type="button" class="btn btn-primary btn-lg col-2 mx-auto" data-toggle="modal" data-target="#editIncome{{ incomeCategory.id }}">Edit</button>
				<button  type="button" class="btn btn-danger btn-lg col-2 mx-auto" data-toggle="modal" data-target="#deleteIncome{{ incomeCategory.id }}">Delete</button>
				<button  type="button" class="btn btn-success btn-lg col-2 mx-auto" data-toggle="modal" data-target="#addIncome">Add new</button>
				<button  type="button" class="btn btn-info btn-lg col-2 mr-auto" onClick="document.getElementById('income_buttons').style.display='none';">Hide</button>
			</div>
			
			<div class="modal fade" id="editIncome{{ incomeCategory.id }}" tabindex="-1" aria-labelledby="editIncomeLabel{{ incomeCategory.id }}" aria-hidden="true">
											
				<div class="modal-dialog">
					<div class="modal-content" style="background-color:#D3DDE9; border: 1px solid #c2cce8;">
						<div class="modal-header">
						<h5 class="modal-title" id="editIncomeLabel{{ incomeCategory.id }}">Edit income category</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						</div>
						<div class="modal-body">
							<form action="/settings/editIncomeCategory" method="post">								
									
									<select class="choice rounded text-center" name="category" style="width: 100%;" required>
										<option value selected disabled hidden>Select a category</option>
										{% for incomeCategory in incomeCategories %}                             
										<option value="{{ incomeCategory.id }}">{{ incomeCategory.name }}</option> 
										{% endfor %}                            
									</select>
									
									<div class="input-group">	
										<div class="input-group-prepend ">
											<span class="input-group-text  rounded-left icon"><i class="icon-pencil"></i></span>
										</div>
										<input type="text" class="form-control  rounded-right" name="new_category"  placeholder="New name of category" required>	
									</div>

									<div class="modal-footer">
										<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
										<button type="submit" class="btn btn-primary">Save changes</button>
									</div>
							</form>
						
						</div>
					</div>
				</div>
			</div>

			<div class="modal fade" id="deleteIncome{{ incomeCategory.id }}" tabindex="-1" aria-labelledby="deleteIncomeLabel{{ incomeCategory.id }}" aria-hidden="true">
											
				<div class="modal-dialog">
					<div class="modal-content" style="background-color:#D3DDE9; border: 1px solid #c2cce8;">
						<div class="modal-header">
						<h5 class="modal-title" id="deleteIncomeLabel{{ incomeCategory.id }}">Delete a category with all its transactions</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						</div>
						<div class="modal-body">
							<form action="/settings/deleteIncomeCategory" method="post">								
									
									<select class="choice rounded text-center" name="category" style="width: 100%;" required>
										<option value selected disabled hidden>Select a category</option>
										{% for incomeCategory in incomeCategories %}                             
										<option value="{{ incomeCategory.id }}">{{ incomeCategory.name }}</option> 
										{% endfor %}                            
									</select>									
									
									<div class="modal-footer">
										<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
										<button type="submit" class="btn btn-primary">Delete category</button>
									</div>
							</form>
						
						</div>
					</div>
				</div>
			</div>
			
			<div class="modal fade" id="addIncome" tabindex="-1" aria-labelledby="addIncomeLabel" aria-hidden="true">
											
				<div class="modal-dialog">
					<div class="modal-content" style="background-color:#D3DDE9; border: 1px solid #c2cce8;">
						<div class="modal-header">
						<h5 class="modal-title" id="addIncomeLabel">Add income category</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						</div>
						<div class="modal-body">
							<form action="/settings/addIncomeCategory" method="post">
								<div class="input-group">	
									<div class="input-group-prepend ">
										<span class="input-group-text  rounded-left icon"><i class="icon-pencil"></i></span>
									</div>
									<input type="text" class="form-control  rounded-right" name="new_category"  placeholder="New name of category" required>	
								</div>

								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
									<button type="submit" class="btn btn-primary">Add new category</button>
								</div>
							</form>
						
						</div>
					</div>
				</div>
			</div>
		
	</main>

{% endblock %}    